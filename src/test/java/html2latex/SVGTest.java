/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package html2latex;

import java.io.File;
import java.util.logging.Level;
import java.util.logging.Logger;
import static org.junit.Assert.assertTrue;
import org.junit.Test;

/**
 *
 * @author japarejo
 */
public class SVGTest {
    @Test
    public void svgSimpleTest(){

        String content="<svg xmlns=\"http://www.w3.org/2000/svg\"  width=\"100\" height=\"100\">\n" +
                       "  <circle cx=\"50\" cy=\"50\" r=\"40\" stroke=\"red\" stroke-width=\"4\" fill=\"red\" />\n" +
                        "</svg>";
        Parser parser=new Parser();
        String path="./src/test/resources/output";
        String image=path+"/Latex-OutputFolder/Image0.pdf";
        File f=new File(image);
        if(f.exists())
            f.delete();
        try {
            parser.parse(content, path);
        } catch (FatalErrorException ex) {
            Logger.getLogger(SVGTest.class.getName()).log(Level.SEVERE, null, ex);
        }
        assertTrue(f.exists());
        assertTrue(f.length()>0);
        
    }
    
    @Test
    public void svgComplexText(){
        String content="<svg version=\"1.1\" class=\"highcharts-root\" style=\"font-family:&quot;Lucida Grande&quot;, &quot;Lucida Sans Unicode&quot;, Arial, Helvetica, sans-serif;font-size:12px;\" xmlns=\"http://www.w3.org/2000/svg\" width=\"1605\" height=\"400\" viewBox=\"0 0 1605 400\"><desc>Created with Highcharts 6.1.0</desc><defs><clipPath id=\"highcharts-suz19jz-7\"><rect x=\"0\" y=\"0\" width=\"1525\" height=\"300\" fill=\"none\"></rect></clipPath></defs><rect fill=\"#FFFFFF\" class=\"highcharts-background\" x=\"0\" y=\"0\" width=\"1605\" height=\"400\" rx=\"0\" ry=\"0\"></rect><rect fill=\"none\" class=\"highcharts-plot-background\" x=\"40\" y=\"60\" width=\"1525\" height=\"300\"></rect><g class=\"highcharts-pane-group\"></g><g class=\"highcharts-grid highcharts-xaxis-grid \"><path fill=\"none\" class=\"highcharts-grid-line\" d=\"M 136.5 60 L 136.5 360\" opacity=\"1\"></path><path fill=\"none\" class=\"highcharts-grid-line\" d=\"M 300.5 60 L 300.5 360\" opacity=\"1\"></path><path fill=\"none\" class=\"highcharts-grid-line\" d=\"M 464.5 60 L 464.5 360\" opacity=\"1\"></path><path fill=\"none\" class=\"highcharts-grid-line\" d=\"M 629.5 60 L 629.5 360\" opacity=\"1\"></path><path fill=\"none\" class=\"highcharts-grid-line\" d=\"M 793.5 60 L 793.5 360\" opacity=\"1\"></path><path fill=\"none\" class=\"highcharts-grid-line\" d=\"M 958.5 60 L 958.5 360\" opacity=\"1\"></path><path fill=\"none\" class=\"highcharts-grid-line\" d=\"M 1122.5 60 L 1122.5 360\" opacity=\"1\"></path><path fill=\"none\" class=\"highcharts-grid-line\" d=\"M 1287.5 60 L 1287.5 360\" opacity=\"1\"></path><path fill=\"none\" class=\"highcharts-grid-line\" d=\"M 1451.5 60 L 1451.5 360\" opacity=\"1\"></path></g><g class=\"highcharts-grid highcharts-yaxis-grid \"><path fill=\"none\" stroke=\"#e6e6e6\" stroke-width=\"1\" class=\"highcharts-grid-line\" d=\"M 40 360.5 L 1565 360.5\" opacity=\"1\"></path><path fill=\"none\" stroke=\"#e6e6e6\" stroke-width=\"1\" class=\"highcharts-grid-line\" d=\"M 40 260.5 L 1565 260.5\" opacity=\"1\"></path><path fill=\"none\" stroke=\"#e6e6e6\" stroke-width=\"1\" class=\"highcharts-grid-line\" d=\"M 40 160.5 L 1565 160.5\" opacity=\"1\"></path><path fill=\"none\" stroke=\"#e6e6e6\" stroke-width=\"1\" class=\"highcharts-grid-line\" d=\"M 40 59.5 L 1565 59.5\" opacity=\"1\"></path></g><g class=\"highcharts-grid highcharts-yaxis-grid \"><path fill=\"none\" stroke=\"#e6e6e6\" stroke-width=\"1\" class=\"highcharts-grid-line\" d=\"M 40 360.5 L 1565 360.5\" opacity=\"1\"></path><path fill=\"none\" stroke=\"#e6e6e6\" stroke-width=\"1\" class=\"highcharts-grid-line\" d=\"M 40 260.5 L 1565 260.5\" opacity=\"1\"></path><path fill=\"none\" stroke=\"#e6e6e6\" stroke-width=\"1\" class=\"highcharts-grid-line\" d=\"M 40 160.5 L 1565 160.5\" opacity=\"1\"></path><path fill=\"none\" stroke=\"#e6e6e6\" stroke-width=\"1\" class=\"highcharts-grid-line\" d=\"M 40 59.5 L 1565 59.5\" opacity=\"1\"></path></g><rect fill=\"none\" class=\"highcharts-plot-border\" x=\"40\" y=\"60\" width=\"1525\" height=\"300\"></rect><g class=\"highcharts-axis highcharts-xaxis \"><path fill=\"none\" class=\"highcharts-tick\" stroke=\"#ccc\" stroke-width=\"1\" d=\"M 136.5 360 L 136.5 370\" opacity=\"1\"></path><path fill=\"none\" class=\"highcharts-tick\" stroke=\"#ccc\" stroke-width=\"1\" d=\"M 300.5 360 L 300.5 370\" opacity=\"1\"></path><path fill=\"none\" class=\"highcharts-tick\" stroke=\"#ccc\" stroke-width=\"1\" d=\"M 464.5 360 L 464.5 370\" opacity=\"1\"></path><path fill=\"none\" class=\"highcharts-tick\" stroke=\"#ccc\" stroke-width=\"1\" d=\"M 629.5 360 L 629.5 370\" opacity=\"1\"></path><path fill=\"none\" class=\"highcharts-tick\" stroke=\"#ccc\" stroke-width=\"1\" d=\"M 793.5 360 L 793.5 370\" opacity=\"1\"></path><path fill=\"none\" class=\"highcharts-tick\" stroke=\"#ccc\" stroke-width=\"1\" d=\"M 958.5 360 L 958.5 370\" opacity=\"1\"></path><path fill=\"none\" class=\"highcharts-tick\" stroke=\"#ccc\" stroke-width=\"1\" d=\"M 1122.5 360 L 1122.5 370\" opacity=\"1\"></path><path fill=\"none\" class=\"highcharts-tick\" stroke=\"#ccc\" stroke-width=\"1\" d=\"M 1287.5 360 L 1287.5 370\" opacity=\"1\"></path><path fill=\"none\" class=\"highcharts-tick\" stroke=\"#ccc\" stroke-width=\"1\" d=\"M 1451.5 360 L 1451.5 370\" opacity=\"1\"></path><path fill=\"none\" class=\"highcharts-axis-line\" stroke=\"#999\" stroke-width=\"1\" d=\"M 40 360.5 L 1565 360.5\"></path></g><g class=\"highcharts-axis highcharts-yaxis \"><path fill=\"none\" class=\"highcharts-axis-line\" d=\"M 40 60 L 40 360\"></path></g><g class=\"highcharts-axis highcharts-yaxis \"><text x=\"1591\" text-anchor=\"start\" transform=\"translate(0,0)\" class=\"highcharts-axis-title\" style=\"color:#969696;font-size:11pt;fill:#969696;\" y=\"60\"><tspan>Counts</tspan></text><path fill=\"none\" class=\"highcharts-axis-line\" d=\"M 1565 60 L 1565 360\"></path></g><g class=\"highcharts-series-group\"><g class=\"highcharts-series highcharts-series-0 highcharts-column-series highcharts-tracker \" transform=\"translate(40,60) scale(1 1)\" clip-path=\"url(https://localhost:8181/app/editor#highcharts-suz19jz-7)\"><rect x=\"15.5\" y=\"280.5\" width=\"162\" height=\"20\" fill=\"#e3e3e3\" stroke=\"#666\" stroke-width=\"0.5\" class=\"highcharts-point\"></rect><rect x=\"179.5\" y=\"260.5\" width=\"162\" height=\"40\" fill=\"#e3e3e3\" stroke=\"#666\" stroke-width=\"0.5\" class=\"highcharts-point\"></rect><rect x=\"344.5\" y=\"220.5\" width=\"162\" height=\"80\" fill=\"rgb(227,227,227)\" stroke=\"#666\" stroke-width=\"0.5\" class=\"highcharts-point \"></rect><rect x=\"508.5\" y=\"100.5\" width=\"162\" height=\"200\" fill=\"rgb(227,227,227)\" stroke=\"#666\" stroke-width=\"0.5\" class=\"highcharts-point \"></rect><rect x=\"673.5\" y=\"60.5\" width=\"162\" height=\"240\" fill=\"#e3e3e3\" stroke=\"#666\" stroke-width=\"0.5\" class=\"highcharts-point\"></rect><rect x=\"853.5\" y=\"60.5\" width=\"162\" height=\"240\" fill=\"#e3e3e3\" stroke=\"#666\" stroke-width=\"0.5\" class=\"highcharts-point\"></rect><rect x=\"1018.5\" y=\"20.5\" width=\"162\" height=\"280\" fill=\"#e3e3e3\" stroke=\"#666\" stroke-width=\"0.5\" class=\"highcharts-point\"></rect><rect x=\"1182.5\" y=\"120.5\" width=\"162\" height=\"180\" fill=\"#e3e3e3\" stroke=\"#666\" stroke-width=\"0.5\" class=\"highcharts-point\"></rect></g><g class=\"highcharts-markers highcharts-series-0 highcharts-column-series \" transform=\"translate(40,60) scale(1 1)\" clip-path=\"none\"></g></g><g class=\"highcharts-button highcharts-contextbutton\" style=\"cursor:pointer;\" stroke-linecap=\"round\" transform=\"translate(1571,10)\"><title>Chart context menu</title><rect fill=\"#ffffff\" class=\" highcharts-button-box\" x=\"0.5\" y=\"0.5\" width=\"24\" height=\"22\" rx=\"2\" ry=\"2\" stroke=\"none\" stroke-width=\"1\"></rect><path fill=\"#666666\" d=\"M 6 6.5 L 20 6.5 M 6 11.5 L 20 11.5 M 6 16.5 L 20 16.5\" class=\"highcharts-button-symbol\" stroke=\"#666666\" stroke-width=\"3\"></path><text x=\"0\" style=\"font-weight:normal;color:#333333;fill:#333333;\" y=\"12\"></text></g><text x=\"798\" text-anchor=\"middle\" class=\"highcharts-title\" style=\"color:#000000;font-size:17pt;font-weight:bold;fill:#000000;\" y=\"19\"><tspan>Histogram of EffectivenessEfficiency</tspan></text><text x=\"803\" text-anchor=\"middle\" class=\"highcharts-subtitle\" style=\"color:#666666;fill:#666666;\" y=\"59\"></text><g class=\"highcharts-axis-labels highcharts-xaxis-labels \"><text x=\"136.56113537118\" style=\"color:#666666;cursor:default;font-size:11px;fill:#666666;\" text-anchor=\"middle\" transform=\"translate(0,0)\" y=\"379\" opacity=\"1\">0</text><text x=\"300.99048466225\" style=\"color:#666666;cursor:default;font-size:11px;fill:#666666;\" text-anchor=\"middle\" transform=\"translate(0,0)\" y=\"379\" opacity=\"1\">0.1</text><text x=\"465.41983395331\" style=\"color:#666666;cursor:default;font-size:11px;fill:#666666;\" text-anchor=\"middle\" transform=\"translate(0,0)\" y=\"379\" opacity=\"1\">0.2</text><text x=\"629.84918324438\" style=\"color:#666666;cursor:default;font-size:11px;fill:#666666;\" text-anchor=\"middle\" transform=\"translate(0,0)\" y=\"379\" opacity=\"1\">0.3</text><text x=\"794.27853253545\" style=\"color:#666666;cursor:default;font-size:11px;fill:#666666;\" text-anchor=\"middle\" transform=\"translate(0,0)\" y=\"379\" opacity=\"1\">0.4</text><text x=\"958.70788182651\" style=\"color:#666666;cursor:default;font-size:11px;fill:#666666;\" text-anchor=\"middle\" transform=\"translate(0,0)\" y=\"379\" opacity=\"1\">0.5</text><text x=\"1123.1372311176\" style=\"color:#666666;cursor:default;font-size:11px;fill:#666666;\" text-anchor=\"middle\" transform=\"translate(0,0)\" y=\"379\" opacity=\"1\">0.6</text><text x=\"1287.5665804086\" style=\"color:#666666;cursor:default;font-size:11px;fill:#666666;\" text-anchor=\"middle\" transform=\"translate(0,0)\" y=\"379\" opacity=\"1\">0.7</text><text x=\"1451.9959296997\" style=\"color:#666666;cursor:default;font-size:11px;fill:#666666;\" text-anchor=\"middle\" transform=\"translate(0,0)\" y=\"379\" opacity=\"1\">0.8</text></g><g class=\"highcharts-axis-labels highcharts-yaxis-labels \"><text x=\"25\" style=\"color:#969696;cursor:default;font-size:11pt;fill:#969696;\" text-anchor=\"end\" transform=\"translate(0,0)\" y=\"361\" opacity=\"1\">0</text><text x=\"25\" style=\"color:#969696;cursor:default;font-size:11pt;fill:#969696;\" text-anchor=\"end\" transform=\"translate(0,0)\" y=\"261\" opacity=\"1\">5</text><text x=\"25\" style=\"color:#969696;cursor:default;font-size:11pt;fill:#969696;\" text-anchor=\"end\" transform=\"translate(0,0)\" y=\"161\" opacity=\"1\">10</text><text x=\"0\" style=\"color:#969696;cursor:default;font-size:11pt;fill:#969696;\" text-anchor=\"end\" transform=\"translate(0,0)\" y=\"-9999\">15</text></g><g class=\"highcharts-axis-labels highcharts-yaxis-labels \"><text x=\"0\" style=\"color:#969696;cursor:default;font-size:11pt;fill:#969696;\" text-anchor=\"start\" transform=\"translate(0,0)\" y=\"-9999\">0</text><text x=\"1580\" style=\"color:#969696;cursor:default;font-size:11pt;fill:#969696;\" text-anchor=\"start\" transform=\"translate(0,0)\" y=\"261\" opacity=\"1\">5</text><text x=\"1580\" style=\"color:#969696;cursor:default;font-size:11pt;fill:#969696;\" text-anchor=\"start\" transform=\"translate(0,0)\" y=\"161\" opacity=\"1\">10</text><text x=\"0\" style=\"color:#969696;cursor:default;font-size:11pt;fill:#969696;\" text-anchor=\"start\" transform=\"translate(0,0)\" y=\"-9999\">15</text></g><text x=\"1595\" class=\"highcharts-credits\" text-anchor=\"end\" style=\"cursor:pointer;color:#999999;font-size:9px;fill:#999999;\" y=\"395\">Highcharts.com</text><g class=\"highcharts-label highcharts-tooltip highcharts-color-undefined\" style=\"cursor:default;pointer-events:none;white-space:nowrap;\" transform=\"translate(372,-9999)\" opacity=\"0\" visibility=\"visible\"><path fill=\"none\" class=\"highcharts-label-box highcharts-tooltip-box\" d=\"M 3.5 0.5 L 185.5 0.5 C 188.5 0.5 188.5 0.5 188.5 3.5 L 188.5 44.5 C 188.5 47.5 188.5 47.5 185.5 47.5 L 99.5 47.5 93.5 53.5 87.5 47.5 3.5 47.5 C 0.5 47.5 0.5 47.5 0.5 44.5 L 0.5 3.5 C 0.5 0.5 0.5 0.5 3.5 0.5\" isShadow=\"true\" stroke=\"#000000\" stroke-opacity=\"0.049999999999999996\" stroke-width=\"5\" transform=\"translate(1, 1)\"></path><path fill=\"none\" class=\"highcharts-label-box highcharts-tooltip-box\" d=\"M 3.5 0.5 L 185.5 0.5 C 188.5 0.5 188.5 0.5 188.5 3.5 L 188.5 44.5 C 188.5 47.5 188.5 47.5 185.5 47.5 L 99.5 47.5 93.5 53.5 87.5 47.5 3.5 47.5 C 0.5 47.5 0.5 47.5 0.5 44.5 L 0.5 3.5 C 0.5 0.5 0.5 0.5 3.5 0.5\" isShadow=\"true\" stroke=\"#000000\" stroke-opacity=\"0.09999999999999999\" stroke-width=\"3\" transform=\"translate(1, 1)\"></path><path fill=\"none\" class=\"highcharts-label-box highcharts-tooltip-box\" d=\"M 3.5 0.5 L 185.5 0.5 C 188.5 0.5 188.5 0.5 188.5 3.5 L 188.5 44.5 C 188.5 47.5 188.5 47.5 185.5 47.5 L 99.5 47.5 93.5 53.5 87.5 47.5 3.5 47.5 C 0.5 47.5 0.5 47.5 0.5 44.5 L 0.5 3.5 C 0.5 0.5 0.5 0.5 3.5 0.5\" isShadow=\"true\" stroke=\"#000000\" stroke-opacity=\"0.15\" stroke-width=\"1\" transform=\"translate(1, 1)\"></path><path fill=\"rgba(247,247,247,0.85)\" class=\"highcharts-label-box highcharts-tooltip-box\" d=\"M 3.5 0.5 L 185.5 0.5 C 188.5 0.5 188.5 0.5 188.5 3.5 L 188.5 44.5 C 188.5 47.5 188.5 47.5 185.5 47.5 L 99.5 47.5 93.5 53.5 87.5 47.5 3.5 47.5 C 0.5 47.5 0.5 47.5 0.5 44.5 L 0.5 3.5 C 0.5 0.5 0.5 0.5 3.5 0.5\" stroke=\"#e3e3e3\" stroke-width=\"1\"></path><text x=\"8\" style=\"font-size:12px;color:#333333;fill:#333333;\" y=\"20\"><tspan style=\"font-size: 10px\">0.2</tspan><tspan style=\"fill:#e3e3e3\" x=\"8\" dy=\"15\">?</tspan><tspan dx=\"0\"> EffectivenessEfficiency: </tspan><tspan style=\"font-weight:bold\" dx=\"0\">4.0</tspan></text></g></svg>";        
        Parser parser=new Parser();
        String path="./src/test/resources/output";
        String image=path+"/Latex-OutputFolder/Image0.pdf";
        File f=new File(image);
        if(f.exists())
            f.delete();
        try {
            parser.parse(content, path);
        } catch (FatalErrorException ex) {
            Logger.getLogger(SVGTest.class.getName()).log(Level.SEVERE, null, ex);
        }
        assertTrue(f.exists());
        assertTrue(f.length()>0);
    }
}
